(function(t){function e(e){for(var o,n,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)n=r[u],i[n]&&h.push(i[n][0]),i[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var o={},i={app:0},a=[];function n(t){return r.p+"assets/js/"+({}[t]||t)+".js"}function r(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise(function(e,o){s=i[t]=[e,o]});e.push(s[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=n(t),a=function(e){c.onerror=c.onload=null,clearTimeout(l);var s=i[t];if(0!==s){if(s){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");n.type=o,n.request=a,s[1](n)}i[t]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(s,o,function(e){return t[e]}.bind(null,o));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"000e":function(t,e,s){"use strict";var o=s("7594"),i=s.n(o);i.a},"0083":function(t,e,s){},"0101":function(t,e,s){t.exports=s.p+"assets/img/nan3.jpg"},"04cf":function(t,e,s){t.exports=s.p+"assets/img/nan22.jpg"},"0f3b":function(t,e,s){"use strict";var o=s("6901"),i=s.n(o);i.a},"0ffb":function(t,e,s){},"13cd":function(t,e,s){"use strict";var o=s("5e04"),i=s.n(o);i.a},"17ac":function(t,e,s){},"19c0":function(t,e,s){t.exports=s.p+"assets/img/nan11.jpg"},"1b48":function(t,e,s){"use strict";var o=s("b72a"),i=s.n(o);i.a},"1d15":function(t,e,s){t.exports=s.p+"assets/img/992.jpg"},"1e7f":function(t,e,s){},"21bb":function(t,e,s){"use strict";var o=s("bcc9"),i=s.n(o);i.a},2371:function(t,e,s){"use strict";var o=s("55ff"),i=s.n(o);i.a},"26c8":function(t,e,s){"use strict";var o=s("e6e4"),i=s.n(o);i.a},"2c78":function(t,e,s){t.exports=s.p+"assets/img/812.jpg"},"2e86":function(t,e,s){"use strict";var o=s("f043"),i=s.n(o);i.a},"32cc":function(t,e,s){t.exports=s.p+"assets/img/811.jpg"},3784:function(t,e,s){t.exports=s.p+"assets/img/book.png"},"3b2d":function(t,e,s){"use strict";var o=s("c714"),i=s.n(o);i.a},4088:function(t,e,s){"use strict";var o=s("0083"),i=s.n(o);i.a},"4f99":function(t,e,s){t.exports=s.p+"assets/img/6_0.jpg"},5252:function(t,e,s){t.exports=s.p+"assets/img/man2.jpeg"},5352:function(t,e,s){t.exports=s.p+"assets/img/man1.jpg"},"54e9":function(t,e,s){"use strict";var o=s("5b57"),i=s.n(o);i.a},5521:function(t,e,s){},"55ff":function(t,e,s){},"56d7":function(t,s,o){"use strict";o.r(s);o("7f7f"),o("cadf"),o("551c"),o("f751"),o("097d");var i=o("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar"},[s("div",{staticClass:"mint-tabbar is-fixed"},[s("router-link",{staticClass:"mint-tab-item",attrs:{to:"/Bookrack"}},[s("div",{staticClass:"mint-tab-item-icon"},[s("span",{staticClass:"iconfont font icon-shujia"})]),s("div",{staticClass:"mint-tab-item-label"},[t._v("书架")])]),s("router-link",{staticClass:"mint-tab-item",attrs:{to:"/Bookcity"}},[s("div",{staticClass:"mint-tab-item-icon"},[s("span",{staticClass:"iconfont font icon-shuchengpress"})]),s("div",{staticClass:"mint-tab-item-label"},[t._v("书城")])]),s("router-link",{staticClass:"mint-tab-item",attrs:{to:"/Bookfree"}},[s("div",{staticClass:"mint-tab-item-icon"},[s("span",{staticClass:"iconfont font icon-mianfei"})]),s("div",{staticClass:"mint-tab-item-label"},[t._v("免费")])]),s("router-link",{staticClass:"mint-tab-item",attrs:{to:"/Bookexclusive"}},[s("div",{staticClass:"mint-tab-item-icon"},[s("span",{staticClass:"iconfont font icon-dujia"})]),s("div",{staticClass:"mint-tab-item-label"},[t._v("独家")])])],1)])},c=[],l={},u=l,d=(o("1b48"),o("2877")),h=Object(d["a"])(u,r,c,!1,null,"6476d8ab",null),f=h.exports,v={name:"app",components:{},data:function(){return{}}},p=document.documentElement;function m(){p.style.fontSize=p.getBoundingClientRect().width/20+"px"}window.addEventListener("resize",m),m();var k=v,g=(o("5c0b"),Object(d["a"])(k,a,n,!1,null,null,null)),b=g.exports,_=o("8c4f"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"swiper-container"},[s("div",{staticClass:"swiper-wrapper"},[t._m(0),t._m(1),s("div",{staticClass:"swiper-slide"},[s("img",{attrs:{src:o("ff86"),alt:""}}),s("div",{staticClass:"anniu"},[s("Button",{staticClass:"btn",attrs:{type:"warning",ghost:"",to:"/Bookrack"}},[t._v("立即体验")])],1)])]),s("div",{staticClass:"swiper-pagination"})])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[s("img",{attrs:{src:o("4f99"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[s("img",{attrs:{src:o("f670"),alt:""}})])}],y=o("41d6"),x={mounted:function(){new y["a"](".swiper-container",{pagination:{el:".swiper-pagination"}})}},B=x,T=(o("21bb"),Object(d["a"])(B,C,w,!1,null,null,null)),$=T.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header"},[s("h2",[t._v("Hi~终于等到你")]),s("van-button",{attrs:{plain:"",hairline:"",type:"primary",to:"/Bookcity"}},[t._v("去书城看看")])],1),t._m(0),s("div",{staticClass:"threebox"},[s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-around"}},[s("i-col",{attrs:{span:"6"}},[s("router-link",{attrs:{to:"/Bookcity"}},[s("div",{staticClass:"box"},[s("span",{staticClass:"iconfont font icon-huore"}),s("p",[t._v("热门推荐")])])])],1),s("i-col",{attrs:{span:"6"}},[s("div",{staticClass:"box"},[s("span",{staticClass:"iconfont font icon-bendishangchuan"}),s("p",[t._v("本地导入")])])]),s("i-col",{attrs:{span:"6"}},[s("div",{staticClass:"box"},[s("span",{staticClass:"iconfont font icon-weibiaoti-"}),s("p",[t._v("WiFi传书")])])])],1)],1),s("div",[s("div",{staticClass:"page-bookcase"},[t.isBookcase?s("div",{staticClass:"bookcase"},[s("div",{staticClass:"top"},[s("span",{staticClass:"left"},[t._v("共"+t._s(t.bookcaseArr.length)+"本")]),s("span",{staticClass:"right"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"normal",on:{click:function(e){t.isEdit=!0}}},[t._v("编辑")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"edit"},[s("span",{staticClass:"cancel",on:{click:function(e){t.isEdit=!1}}},[t._v("取消")]),s("span",{staticClass:"delete",on:{click:function(e){return t.bookcaseDelete()}}},[t._v("删除")])])])]),s("div",{staticClass:"bookcase-list"},t._l(t.bookcaseArr,function(e,o){return s("a",{key:o,attrs:{href:"/reader?book_id="+e.book_id+"&index="+e.index},on:{click:function(s){t.isEdit&&t.setListCheck(s,e.book_id)}}},[s("div",{staticClass:"inner"},[s("div",{staticClass:"select-container"},[s("div",{staticClass:"cover"},[s("img",{attrs:{src:e.image}})]),s("div",{staticClass:"right"},[s("h1",{staticClass:"name"},[t._v(t._s(e.title))]),s("p",[t._v("阅读到第"+t._s(e.index)+"章")])]),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"to-detail",attrs:{to:{path:"/book",query:{id:e.book_id}}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"checkbox"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.check,expression:"!item.check"}],staticClass:"select-img"}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.check,expression:"item.check"}],staticClass:"selected-img"})])],1)])])}),0)]):t._e()])]),s("router-view"),s("Tabbar")],1)},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[s("p",[s("span",[t._v(" 签到有奖,获2豆券免费看书!")]),t._v("   \r\n           "),s("span",[t._v("签到")])])])}],I="",H={STATIC_HOST:"https://statics.zhuishushenqi.com",classification:{getCats:I+"/cats/lv2/statistics",getMinor:I+"/cats/lv2",getCatsBooks:function(t,e,s,o,i){return o?"".concat(I,"/book/by-categories?gender=").concat(t,"&type=").concat(e,"&major=").concat(s,"&minor=").concat(o,"&start=").concat(i,"&limit=20"):"".concat(I,"/book/by-categories?gender=").concat(t,"&type=").concat(e,"&major=").concat(s,"&start=").concat(i,"&limit=20")}},book:{bookInfo:function(t){return I+"/book/"+t},relatedRecommendedBooks:function(t){return"".concat(I,"/book/").concat(t,"/recommend")},authorBooks:function(t){return"".concat(I,"/book/accurate-search?author=").concat(t)},bookSources:function(t){return"".concat(I,"/atoc?view=summary&book=").concat(t)},bookChapters:function(t){return"".concat(I,"/atoc/").concat(t,"?view=chapters")},bookChaptersBookId:function(t){return"".concat(I,"/mix-atoc/").concat(t,"?view=chapters")},chapterContent:function(t){return"".concat(I,"/chapter/").concat(encodeURIComponent(t))},searchHotWord:I+"/book/search-hotwords",hotWord:I+"/book/hot-word",bookSearch:function(t,e,s){return"".concat(I,"/book/fuzzy-search?start=").concat(t,"&limit=").concat(e,"&v=1&query=").concat(s)},bookSearchRealTime:function(t){return"".concat(I,"/book/auto-complete?query=").concat(t)}},rank:{rankCategory:"".concat(I,"/ranking/gender"),rankInfo:function(t){return"".concat(I,"/ranking/").concat(t)}},comment:{discussions:function(t){return"".concat(I,"/post/by-book?book=").concat(t)},shortReviews:function(t){return"".concat(I,"/post/short-review?book=").concat(t,"&total=true&sortType=newest")},bookReviews:function(t,e,s){return"".concat(I,"/post/review/by-book?book=").concat(t,"&limit=").concat(e,"&start=").concat(s)},userReview:function(t,e,s){return"".concat(I,"/post/review/").concat(t,"/comment/?start=").concat(e,"&limit=").concat(s)}},bookList:{lists:"".concat(I,"/book-list"),detail:function(t){return"".concat(I,"/book-list/").concat(book_id)}}},L=o("4b89"),j={data:function(){return{isBookcase:!1,bookcaseArr:[],isEdit:!1,list:[]}},components:{Tabbar:f},mounted:function(){if(this.$store.state.isTabber=!0,console.log("Bookrack",L["a"].get("Bookrack")),L["a"].get("Bookrack"))if(0!==L["a"].get("Bookrack").length){for(var t=L["a"].get("Bookrack"),e=0;e<t.length;e++)t[e].check=!1,t[e].book_id||t.splice(e,1);this.bookcaseArr=t,L["a"].set("Bookrack",t),this.isBookcase=!0}else this.isBookcase=!1},methods:{setListCheck:function(t,e){t.preventDefault();var s=this.bookcaseArr;for(var o in s)if(s[o].book_id===e){s[o].check=!s[o].check,this.$set(this.bookcaseArr,o,s[o]);break}},bookcaseDelete:function(){var t=[];for(var e in this.bookcaseArr)!this.bookcaseArr[e].check&&t.push(this.bookcaseArr[e]);L["a"].set("Bookrack",t),this.bookcaseArr=L["a"].get("Bookrack")}}},q=j,D=(o("13cd"),Object(d["a"])(q,M,S,!1,null,"093c35f1",null)),E=D.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bookcity"},[s("div",{staticClass:"tab"},[s("van-tabs",{attrs:{animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("van-tab",{attrs:{title:"女生"}},[s("div",{staticClass:"lunbotu"},[s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("img",{attrs:{src:o("94dc"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("32cc"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("2c78"),alt:""}})])],1)],1),s("div",{staticClass:"girls"},[s("div",{staticClass:"titles"},[s("div",{staticClass:"lefttitle"},[t._v("女生都爱看的书")]),s("div",{staticClass:"righttitle"},[t._v("查看更多 >")])]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[1].data,function(e,o){return s("li",{key:o,on:{click:function(s){return t.luYouNv(e.name)}}},[s("img",{attrs:{src:e.bookCover[0],alt:""}}),s("h5",[t._v(t._s(e.name))])])}),0)])])]),s("van-tab",{attrs:{title:"男生"}},[s("div",{staticClass:"lunbotu"},[s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("img",{attrs:{src:o("19c0"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("04cf"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("0101"),alt:""}})])],1)],1),s("div",{staticClass:"boys"},[s("div",{staticClass:"titles"},[s("div",{staticClass:"lefttitle"},[t._v("男生都爱看的书")]),s("div",{staticClass:"righttitle"},[t._v("查看更多 >")])]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[0].data,function(e,o){return s("li",{key:o,on:{click:function(s){return t.luYou(e.name)}}},[s("img",{attrs:{src:e.bookCover[0],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p")])}),0)])])]),s("van-tab",{attrs:{title:"漫画"}},[s("div",{staticClass:"lunbotu"},[s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("img",{attrs:{src:o("5352"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("5252"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("8407"),alt:""}})])],1)],1),s("div",{staticClass:"cimoc"},[s("div",{staticClass:"allpeople"},[s("div",{staticClass:"all"},[t._v("大家都在看")]),s("div",{staticClass:"more"},[t._v("看更多 >")])]),s("div",{staticClass:"cartoon"},[s("ul",t._l(this.cats[2].data,function(e,o){return s("li",{key:o,on:{click:function(s){return t.luYous(e.name)}}},[s("img",{attrs:{src:e.bookCover[0],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p",[t._v(" ")])])}),0)])])]),s("van-tab",{attrs:{title:"搜索"}},[s("div",{staticClass:"book-search"},[s("div",{staticClass:"first"},[s("span",{staticClass:"iconfont font icon-soushuo iconsea"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"text",placeholder:"搜索书架或书城"},domProps:{value:t.val},on:{input:[function(e){e.target.composing||(t.val=e.target.value)},function(e){return t.inputFun()}]}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searching,expression:"searching"}],staticClass:"del",on:{click:t.inputDel}}),s("span",{staticClass:"sousuo",on:{click:function(e){t.searching&&t.$router.push({path:"/Search",query:{val:t.val}})}}},[t._v("搜索")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.searching,expression:"!searching"}],staticClass:"searching-body"},[s("div",{staticClass:"resou"},[t._v("大家都在搜")]),s("div",{staticClass:"huan",on:{click:function(e){return t.randomSearchHotWord()}}},[t._v("换一换"),s("span",{staticClass:"iconfont font icon-huanyihuan"})])]),t._l(t.showSearchHotWords,function(e,o){return s("router-link",{key:o,staticClass:"searching-content",style:{backgroundColor:t.searchHotWordBackgoundColor[o]},attrs:{to:{path:"/Search",query:{val:e.word}}}},[t._v("\n            "+t._s(e.word)+"\n            ")])})],2)])],1)],1),s("router-view"),s("Tabbar")],1)},N=[],F={data:function(){return{active:1,cats:[{minor:"male",name:"男生",data:[]},{minor:"female",name:"女生",data:[]},{minor:"press",name:"出版",data:[]}],searchHotWordBackgoundColor:["#FFC0CB","#29ac80","#FF69B4","#66CDAA","#FA8072","#ac299b","#90c5f0","#f6bc7e","#67ccb7","#e78f8f","#FA8072","#228B22","#FFC0CB","#7B68EE","#FF69B4"],val:"",searchHotWords:[],showSearchHotWords:[],hotWords:[],showHotWords:[],searching:!1,keywords:[]}},components:{Tabbar:f},mounted:function(){console.log("API",H),this.$store.state.isTabber=!0,this.getCats(),this.getSearchHotWord()},methods:{getCats:function(){var t=this;this.axios.get(H.classification.getCats).then(function(e){for(var s in t.cats){var o=t.cats[s].minor;t.cats[s].data=e.data[o]}}).catch(function(t){console.log(t)})},luYou:function(t){this.$router.push("/booklist?gender=male&major="+t)},luYous:function(t){this.$router.push("/booklist?gender=press&major="+t)},luYouNv:function(t){this.$router.push("/booklist?gender=female&major="+t)},inputFun:function(){var t=this;this.searching=!0,this.axios.get(H.book.bookSearchRealTime(this.val)).then(function(e){t.keywords=e.data.keywords,console.log("关键字",t.keywords)}).catch(function(t){console.log("搜索失败",t)})},inputDel:function(){this.searching=!1},getSearchHotWord:function(){var t=this;this.axios.get(H.book.searchHotWord).then(function(e){t.searchHotWords=e.data.searchHotWords,t.randomSearchHotWord()}).catch(function(t){console.log("搜索热词失败",t)})},randomSearchHotWord:function(){var t=Array(),e=Array();t=this.shuffle(this.searchHotWords);for(var s=0;s<15;s++)e.push(t[s]);this.showSearchHotWords=e},shuffle:function(t){var e=t.length;while(e){var s=Math.floor(Math.random()*e--),o=[t[e],t[s]];t[s]=o[0],t[e]=o[1]}return t}}},A=F,R=(o("3b2d"),Object(d["a"])(A,O,N,!1,null,"446d6f44",null)),z=R.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bookfree"},[s("div",{staticClass:"headerInput"},[s("img",{staticClass:"avator",attrs:{src:o("9175"),alt:""}}),s("Input",{staticClass:"sousuo",staticStyle:{width:"80%"},attrs:{search:"","enter-button":"",placeholder:"书名/作者/关键字"}})],1),t._m(0),s("div",[s("div",{staticClass:"freeboutique"},[s("h5",[t._v("免费精品")]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[2].data,function(e,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o<8,expression:"index < 8"}],key:o,on:{click:function(s){return t.luYouJ(e.name)}}},[s("img",{attrs:{src:e.bookCover[1],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p",[t._v("  ")])])}),0)])]),t._m(1),s("div",{staticClass:"yinying"})]),s("div",[s("div",{staticClass:"freeboutique"},[s("h5",[t._v("新书免费")]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[2].data,function(e,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o<8,expression:"index < 8"}],key:o,on:{click:function(s){return t.luYouJ(e.name)}}},[s("img",{attrs:{src:e.bookCover[2],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p",[t._v("  ")])])}),0)])]),t._m(2),s("div",{staticClass:"yinying"})]),s("div",[s("div",{staticClass:"freeboutiques"},[s("h5",[t._v("男生免费")]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[0].data,function(e,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o<4,expression:"index < 4"}],key:o,on:{click:function(s){return t.luYouN(e.name)}}},[s("img",{attrs:{src:e.bookCover[1],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p",[t._v("  ")])])}),0)])]),t._m(3),s("div",{staticClass:"yinying"})]),s("div",[s("div",{staticClass:"freeboutiques"},[s("h5",[t._v("女生免费")]),s("div",{staticClass:"freebou"},[s("ul",t._l(this.cats[1].data,function(e,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o<4,expression:"index < 4"}],key:o,on:{click:function(s){return t.luYouL(e.name)}}},[s("img",{attrs:{src:e.bookCover[1],alt:""}}),s("h5",[t._v(t._s(e.name))]),s("p",[t._v("  ")])])}),0)])]),t._m(4),s("div",{staticClass:"yinying"})]),s("router-view"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("Tabbar")],1)},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"twopicture"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:o("ccd1"),alt:""}})]),s("div",{staticClass:"right"},[s("img",{attrs:{src:o("97b9"),alt:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"change"},[s("h3",[t._v("换一换  "),s("span",{staticClass:"iconfont font icon-huanyihuan "})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"change"},[s("h3",[t._v("查看更多")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"change"},[s("h3",[t._v("换一换  "),s("span",{staticClass:"iconfont font icon-huanyihuan "})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"change"},[s("h3",[t._v("换一换  "),s("span",{staticClass:"iconfont font icon-huanyihuan "})])])}],J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"loading"},[s("span"),s("span"),s("span"),s("span"),s("span")])])}],V={},Y=V,Z=Object(d["a"])(Y,J,U,!1,null,"1d1ee768",null),G=Z.exports,K=(o("1fba"),{data:function(){return{searchStr:"",loading:!1,cats:[{minor:"male",name:"男生",data:[]},{minor:"female",name:"女生",data:[]},{minor:"press",name:"出版",data:[]}]}},components:{Tabbar:f,Loading:G},mounted:function(){console.log("API",H),this.$store.state.isTabber=!0,this.getCats()},methods:{getCats:function(){var t=this;this.axios.get(H.classification.getCats).then(function(e){for(var s in console.log("一级分类",e),t.cats){var o=t.cats[s].minor;t.cats[s].data=e.data[o],console.log(t.cats[s].data)}t.loading=!0}).catch(function(t){console.log(t)})},luYouJ:function(t){this.$router.push("/booklist?gender=press&major="+t)},luYouN:function(t){this.$router.push("/booklist?gender=female&major="+t)},luYouL:function(t){this.$router.push("/booklist?gender=male&major="+t)}}}),Q=K,X=(o("b4b4"),Object(d["a"])(Q,W,P,!1,null,"a1c0cf76",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"exclusive"},[s("div",{staticClass:"tabbars"},[s("div",{staticClass:"van-tabs__wrap"},[s("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("van-tab",{attrs:{title:"推荐"}},[s("div",{staticClass:"swipers"},[s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("img",{attrs:{src:o("1d15"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("6c42"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("f509"),alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:o("a9d9"),alt:""}})])],1)],1),s("div",{staticClass:"dujia"},[s("h5",[t._v("独家首发")]),s("div",{staticClass:"pics"},[s("ul",[s("li",[s("img",{attrs:{src:o("a9d9"),alt:""}}),s("p",[t._v("代号传奇")]),s("p",[t._v("临界水")])]),s("li",[s("img",{attrs:{src:o("a9d9"),alt:""}}),s("p",[t._v("代号传奇")]),s("p",[t._v("临界水")])]),s("li",[s("img",{attrs:{src:o("a9d9"),alt:""}}),s("p",[t._v("代号传奇")]),s("p",[t._v("临界水")])]),s("li",[s("img",{attrs:{src:o("a9d9"),alt:""}}),s("p",[t._v("代号传奇")]),s("p",[t._v("临界水")])])])])]),s("div",{staticClass:"lines"}),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("van-tab",{attrs:{title:"创作"}},[s("div",{staticClass:"production"},[s("h5",[t._v("我的作品")])]),s("div",{staticClass:"writes"},[s("img",{attrs:{src:o("3784"),alt:""}})]),s("div",{staticClass:"nothings"},[s("p",[t._v("还没有作品")]),s("van-button",{attrs:{type:"primary",size:"large"}},[t._v("新写一本")])],1)])],1)],1)]),s("router-view"),s("Tabbar")],1)},st=[],ot={data:function(){return{active:2}},components:{Tabbar:f}},it=ot,at=(o("26c8"),Object(d["a"])(it,et,st,!1,null,"02ebd53d",null)),nt=at.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"booklist",style:{height:t.pageHeight+"px"}},[s("Listheader",{ref:"header",attrs:{title:t.$route.query.major}}),s("div",{staticClass:"page-category"},[t.isHeaderData?s("div",{directives:[{name:"show",rawName:"v-show",value:t.isHeader,expression:"isHeader"}],staticClass:"filter-item-wraper"},[s("Listminor",{ref:"list",attrs:{list:t.typeList[0]},on:{listenToChildEvent:t.bookClassName}}),t.showMinor?s("Listminor",{attrs:{list:t.typeList[1]},on:{listenToChildEvent:t.bookClassName}}):t._e()],1):t._e(),t.isHeaderData?s("Listscroll",{directives:[{name:"show",rawName:"v-show",value:!t.isHeader,expression:"!isHeader"}],on:{headerToChildEvent:t.headerEvent}}):t._e(),s("div",{ref:"element",staticClass:"list-wrap",style:{height:t.listMainHeight+"px",marginTop:t.listMarginTop+"px"},attrs:{id:"scrollDiv"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],ref:"book",staticClass:"app-book-list"},[t._l(t.books,function(e,o){return s("Bookview",{key:o,ref:"book_list_height",refInFor:!0,attrs:{bookDetails:e,bookClass:t.$route.query.major,isBookClass:!0}})}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isMore,expression:"isMore"}],staticClass:"show-more"},[t._v(t._s(t.moreText))])],2),s("Bookloading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"list-loading"})],1)],1)],1)])},ct=[],lt=o("75fc"),ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"listheader"},[s("div",{staticClass:"lefticon",on:{click:t.fanHui}},[s("span",{staticClass:"iconfont font icon-fanhui"})]),s("h4",[t._v("书籍信息")]),s("router-link",{staticClass:"righticon",attrs:{to:{path:"/Bookrack"}}},[s("span",{staticClass:"iconfont font icon-shoucang1"})])],1)])},dt=[],ht={props:{title:String},data:function(){return{}},methods:{fanHui:function(){if(window.history.length<=1)return this.$router.push({path:"/Bookrack"}),!1;this.$router.go(-1)}}},ft=ht,vt=(o("e2e4"),Object(d["a"])(ft,ut,dt,!1,null,"93816df0",null)),pt=vt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"filter-result",on:{click:t.headerClick}},[s("span",[t._v(t._s(t.$store.state.headerData.minor.type))]),s("span",[t._v("-")]),s("span",[t._v(t._s(t.$store.state.headerData.major.type))]),s("i",{staticClass:"arrow"})])])},kt=[],gt={props:{},data:function(){return{}},methods:{headerClick:function(){this.$emit("headerToChildEvent",!0)}}},bt=gt,_t=(o("2e86"),Object(d["a"])(bt,mt,kt,!1,null,"08beeeae",null)),Ct=_t.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"filter-item"},[s("div",{staticClass:"inner"},[s("ul",t._l(t.list,function(e){return s("li",{key:e.id,ref:"lists",refInFor:!0,class:t.currentMinor===(e.id||e.type)?"active":"",attrs:{"data-type":e.id||t.type,"data-minor":e.type||t.type},on:{click:function(s){t.currentMinor!==(e.id||e.type)&&t.switchMinor(s)}}},[t._v(" \n                "+t._s(e.name)+"\n                ")])}),0)])])])},yt=[],xt={props:{list:Array},data:function(){return{currentMinor:this.list[0].id||this.list[0].type,type:""}},methods:{headerMinor:function(){},switchMinor:function(t){this.currentMinor=t.target.dataset.type||t.target.dataset.minor,""!==t.target.dataset.type?(this.$store.state.headerData.major.id=t.target.dataset.type,this.$store.state.headerData.major.type=t.target.innerText):(this.$store.state.headerData.minor.id=t.target.dataset.minor,this.$store.state.headerData.minor.type=t.target.innerText),this.$emit("listenToChildEvent",this.$store.state.headerData)}}},Bt=xt,Tt=(o("000e"),Object(d["a"])(Bt,wt,yt,!1,null,"841703f0",null)),$t=Tt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{ref:"list",attrs:{to:{path:"/book",query:{id:t.bookDetails._id}}}},[s("div",{staticClass:"inner"},[s("div",{staticClass:"cover"},[s("img",{attrs:{src:t.STATIC_HOST+t.bookDetails.cover,alt:""}})]),s("div",{staticClass:"right"},[s("h3",{staticClass:"name"},[t._v(t._s(t.bookDetails.title))]),s("p",[t._v(t._s(t.bookDetails.author)),t.isBookClass?s("span",{staticClass:"split"},[t._v("|")]):t._e(),t._v(t._s(t.bookClass))]),s("p",[t._v(t._s(t.bookDetails.shortIntro))]),s("p",{staticClass:"important"},[s("span",{staticClass:"color-green"},[t._v(t._s(t.latelyFollower()))]),t._v("热度\n              "),s("span",[s("span",{staticClass:"split"},[t._v("|")]),s("span",{staticClass:"color-green"},[t._v(t._s(t.bookDetails.retentionRatio)+"%")]),t._v("读者留存\n              ")])])])])])],1)},St=[],It={props:{bookDetails:Object,bookClass:String,isBookClass:Boolean},data:function(){return{STATIC_HOST:"https://statics.zhuishushenqi.com"}},mounted:function(){this.bookListViewH()},methods:{bookListViewH:function(){this.$store.state.bookListViewH=this.$refs.list.clientHeight},latelyFollower:function(){if(this.bookDetails.latelyFollower>=1e4){var t=Math.round(this.bookDetails.latelyFollower/1e3)/10;this.bookDetails.latelyFollower=t.toFixed(1)+"万"}return this.bookDetails.latelyFollower}}},Ht=It,Lt=(o("2371"),Object(d["a"])(Ht,Mt,St,!1,null,"57c33ac5",null)),jt=Lt.exports,qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"bookloading"},[s("div",{staticClass:"wrap"},[s("i",{staticClass:"loading"}),s("span",{staticClass:"jiazai"},[t._v("加载中...")])])])])}],Et={},Ot=Et,Nt=(o("b2f2"),Object(d["a"])(Ot,qt,Dt,!1,null,"cbbf38e8",null)),Ft=Nt.exports,At={data:function(){return{showMinor:!1,pageHeight:0,listMainHeight:0,listMarginTop:0,minorHeight:0,isHeaderData:!0,bookMinor:"",isScroll:!0,books:[],scrollDiv:{},isHeader:!0,isPush:!1,isMore:!0,isLoading:!0,moreText:"正在加载...",typeList:[[{id:"hot",name:"热门"},{id:"new",name:"新书"},{id:"reputation",name:"好评"},{id:"over",name:"完结"},{id:"monthly",name:"包月"}],[]],indexBooks:[this.$route.query.gender,"hot",this.$route.query.major,"",0]}},components:{Listheader:pt,Listscroll:Ct,Listminor:$t,Bookview:jt,Loading:G,Bookloading:Ft},mounted:function(){this.$store.state.isTabber=!1,this.pageHeight=document.documentElement.clientHeight,this.getIndexBooks.apply(this,Object(lt["a"])(this.indexBooks)),this.checkDivScroolTop(),"press"===this.$route.query.gender?(this.isHeaderData=!1,this.listMarginTop=0,this.listMainHeight=this.pageHeight-this.$refs.header.$el.offsetHeight):this.getMinor()},methods:{bookListStyle:function(){this.minorHeight=this.$refs.list.$el.offsetHeight,this.showMinor?(this.listMainHeight=this.pageHeight-this.$refs.header.$el.offsetHeight-2*this.minorHeight,this.listMarginTop=2*this.minorHeight):(this.listMainHeight=this.pageHeight-this.$refs.header.$el.offsetHeight-this.minorHeight,this.listMarginTop=this.minorHeight)},getIndexBooks:function(t,e,s,o,i){var a=this;this.isPush?(this.isLoading=!1,this.isHeader=!1):(this.isLoading=!0,this.isHeader=!0),this.axios.get(H.classification.getCatsBooks(t,e,s,o,i)).then(function(t){a.isPush?(a.books=a.books.concat(t.data.books),0===t.data.books.length?a.moreText="没有更多书籍":a.moreText="正在加载..."):(a.isLoading=!0,a.books=t.data.books,a.scrollDiv.scrollTop=0,0===t.data.books.length?a.isMore=!1:a.isMore=!0,t.data.books.length<20?a.moreText="没有更多书籍":a.moreText="正在加载..."),a.isLoading=!1,console.log(a.isHeader)}).catch(function(t){console.log("分类书籍error",t)})},getMinor:function(){var t=this;this.axios.get(H.classification.getMinor).then(function(e){for(var s=e.data[t.$route.query.gender],o=0;o<s.length;o++)if(s[o].major===t.$route.query.major){if(s[o].mins.length>0){s[o].mins.unshift("全部");for(var i=[],a=0;a<s[o].mins.length;a++)i[a]=new Object,i[a].type=s[o].mins[a],i[a].name=s[o].mins[a];t.typeList[1]=i,t.typeList[1][0].type="",t.showMinor=!0}else t.showMinor=!1;t.bookListStyle()}}).catch(function(t){console.log("二级分类及数目error",t)})},checkDivScroolTop:function(){var t=this;t.scrollDiv=document.getElementById("scrollDiv"),t.scrollDiv.addEventListener("scroll",function(){t.scrollDiv.scrollTop>t.$refs.book_list_height[0].$el.clientHeight?(t.isHeader=!1,t.listMarginTop=t.minorHeight,t.listMainHeight=t.pageHeight-t.$refs.header.$el.offsetHeight-t.minorHeight):(t.isHeader=!0,t.showMinor?(t.listMarginTop=2*t.minorHeight,t.listMainHeight=t.pageHeight-t.$refs.header.$el.offsetHeight-2*t.minorHeight):(t.listMarginTop=t.minorHeight,t.listMainHeight=t.pageHeight-t.$refs.header.$el.offsetHeight-t.minorHeight)),t.scrollDiv.clientHeight+t.scrollDiv.scrollTop===t.$refs.book.clientHeight&&(t.isPush=!0,t.indexBooks[4]+=20,t.getIndexBooks.apply(t,Object(lt["a"])(t.indexBooks)))})},bookClassName:function(t){this.isPush=!1,this.indexBooks[4]=0,this.indexBooks[1]=t.major.id,this.indexBooks[3]=t.minor.type,"全部"===this.indexBooks[3]&&(this.indexBooks[3]=""),this.getIndexBooks.apply(this,Object(lt["a"])(this.indexBooks))},headerEvent:function(t){this.isHeader=t}}},Rt=At,zt=(o("e8ba"),Object(d["a"])(Rt,rt,ct,!1,null,"70322c92",null)),Wt=zt.exports,Pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("这是精选页面")])])}],Ut={},Vt=Ut,Yt=(o("9f9b"),Object(d["a"])(Vt,Pt,Jt,!1,null,null,null)),Zt=Yt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",{staticClass:"page-book"},[s("Listheader",{attrs:{title:t.title}}),s("div",[s("div",{staticClass:"book-detail clearfix"},[s("img",{staticClass:"cover",attrs:{src:t.imgUrl,alt:t.bookInfo.title}}),s("div",{staticClass:"desc"},[s("h1",[t._v(t._s(t.bookInfo.title))]),s("span",{staticClass:"sku"},[s("p",{staticClass:"red-color"},[t._v(t._s(t.bookInfo.author))]),s("i",[t._v("|")]),s("p",[t._v(t._s(t.bookInfo.cat))]),s("i",[t._v("|")]),s("p",[t._v(t._s(t.latelyFollowerPoint(t.bookInfo.wordCount))+"字")])]),s("p",{staticClass:"update"},[t._v(t._s(t.dateFtt(t.bookInfo.updated)))])])]),s("div",{staticClass:"read-link"},[s("a",{staticClass:"button-left",class:{subtract:t.ifJoinBookcase},on:{click:t.joinBookcase}},[s("i",[t._v(t._s(t.ifJoinBookcase?t.buttonLeftTextOut:t.buttonLeftTextJoin))])]),s("router-link",{staticClass:"button-right",attrs:{to:{path:"/reader",query:{book_id:t.$route.query.id,index:1}}}},[s("i",[t._v(t._s(t.buttonRightText))])])],1),s("div",{staticClass:"reader-data"},[s("span",{staticClass:"item"},[s("p",{staticClass:"key"},[t._v("人气")]),s("p",{staticClass:"data"},[t._v(t._s(t.latelyFollower(t.bookInfo.latelyFollower)))])]),s("span",{staticClass:"item"},[s("p",{staticClass:"key"},[t._v("读者留存率")]),s("p",{staticClass:"data"},[t._v(t._s(t.bookInfo.retentionRatio)+"%")])]),s("span",{staticClass:"item"},[s("p",{staticClass:"key"},[t._v("日更字数")]),s("p",{staticClass:"data"},[t._v(t._s(t.latelyFollower(t.bookInfo.serializeWordCount)))])])]),s("div",[s("div",{staticClass:"introduction",on:{click:t.introductionToClick}},[s("p",{class:{active:t.isIntroductionClick}},[t._v(t._s(t.bookInfo.longIntro))]),s("span",{staticClass:"arrow",class:{up:t.isIntroductionClick}})]),s("router-link",{staticClass:"chapter-item",attrs:{to:{path:"/bookDirectory",query:{book_id:t.$route.query.id}}}},[s("div",{staticClass:"inner clearfix"},[t._v("目录\n          "),s("i",{staticClass:"arrow"}),t.loading?s("span",[t._v("["+t._s(t.dateFtt(t.bookInfo.updated))+"]  "+t._s(t.bookInfo.lastChapter))]):t._e()])])],1)]),s("div",{staticClass:"hot-comment"},[s("div",{staticClass:"hot-comment-top"},[s("h2",[t._v("热门书评")]),s("router-link",{staticClass:"more",attrs:{to:{path:"/comment",query:{book_id:t.$route.query.id,title:t.bookInfo.title}}}},[t._v("\n        更多评论\n      ")])],1),s("ul",{staticClass:"comment-list"},t._l(t.reviewsData,function(e,o){return s("li",{key:o},[s("Reviews",{attrs:{reviews:e,title:t.title,book_id:t.$route.query.id,reviewsIndex:o}})],1)}),0)]),s("div",{staticClass:"book-recommend-section"},[s("h4",{staticClass:"title"},[t._v("你可能感兴趣\n      "),s("i",{staticClass:"tip"}),s("router-link",{staticClass:"recommend-more",attrs:{to:{path:"/bookRelated",query:{book_id:t.$route.query.id}}}},[s("span",[t._v("更多")])])],1),s("div",{staticClass:"content"},t._l(t.bookColummList,function(e,o){return s("router-link",{key:o,attrs:{to:{path:"/book",query:{id:e._id}}}},[s("img",{attrs:{src:t.STATIC_HOST+e.cover,alt:e.title}}),s("span",[t._v(t._s(e.title))])])}),1)])],1):s("Loading")},Kt=[],Qt=(o("a481"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"reviews"},[s("router-link",{attrs:{to:{path:"/commentDetail",query:{user_id:t.reviews._id,book_id:t.book_id,book_name:t.title,index:t.reviewsIndex}}}},[s("div",{staticClass:"inner"},[s("img",{staticClass:"avater",attrs:{src:t.imgUrl}}),s("div",{staticClass:"right"},[s("p",{staticClass:"name"},[t._v(t._s(t.reviews.author.nickname))]),s("p",{staticClass:"title"},[t._v(t._s(t.reviews.title))]),s("Score",{attrs:{level:t.reviews.rating}}),s("p",{staticClass:"content"},[t._v(t._s(t.reviews.content))]),s("span",{staticClass:"love"},[s("p",[t._v(t._s(t.dateFtt(t.reviews.updated))+"前")]),s("p",[t._v(t._s(t.reviews.likeCount)+"人觉得很赞")])])],1)])])],1)])}),Xt=[],te=(o("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"score"},[t._l(t.className,function(e,o){return s("div",{key:o},[t._v(t._s(e))])}),t._l(t.className,function(t,e){return s("i",{key:e,class:t})})],2)])}),ee=[],se={props:{level:Number},data:function(){return{className:[]}},created:function(){},methods:{}},oe=se,ie=(o("bc87"),Object(d["a"])(oe,te,ee,!1,null,"03144f79",null)),ae=ie.exports,ne={props:{reviews:Object,title:String,book_id:String,reviewsIndex:Number},data:function(){return{imgUrl:""}},components:{Score:ae},mounted:function(){},methods:{getReviews:function(){this.imgUrl=H.STATIC_HOST+this.reviews.author.avatar},dateFtt:function(t){var e=t.replace(/T/g," ").replace(/\.[\/d]{3}Z/,"");e=e.replace(/-/g,"/");var s=Math.round(new Date(e).getTime()/1e3),o=Math.round((new Date).getTime()/1e3),i=o-s,a="";return i<3600?a=Math.round(i/60)+"分钟":i>=3600&&i<86400?a=Math.round(i/3600)+"小时":i>=86400&&i<2629800?a=Math.round(i/86400)+"天":i>=2629800&&i<31557600?a=Math.round(i/2629800)+"月":i>=31557600&&(a=Math.round(i/31557600)+"年"),a}}},re=ne,ce=(o("4088"),Object(d["a"])(re,Qt,Xt,!1,null,"67732f34",null)),le=ce.exports,ue={components:{inject:["reload"],Listheader:pt,Reviews:le,Loading:G},props:{},data:function(){return{loading:!1,title:"书籍详情",bookInfo:{},imgUrl:"",ifJoinBookcase:!1,buttonLeftTextJoin:"加入书架",buttonLeftTextOut:"撤出书架",buttonRightText:"开始阅读",isIntroductionClick:!1,reviewsData:[],bookColummList:[],STATIC_HOST:H.STATIC_HOST,test:"git测试"}},watch:{$route:function(t,e){this.$route.query.id&&(this.loading=!1,this.getBookInfo(this.$route.query.id))}},mounted:function(){this.$store.state.isTabber=!1,this.getBookInfo(this.$route.query.id),console.log("书架缓存",L["a"].get("Bookrack"))},methods:{getBookInfo:function(t){var e=this;this.axios.get(H.book.bookInfo(t)).then(function(t){console.log("获取书籍详情-成功",t),e.bookInfo=t.data,e.imgUrl=H.STATIC_HOST+e.bookInfo.cover,e.isBookcase(),console.log(e.bookInfo)}).catch(function(t){console.log("获取书籍详情-失败",t)})},isBookcase:function(){console.log("书架",L["a"].get("Bookrack"));var t=L["a"].get("Bookrack")||[],e={};if(t){for(var s in t){if(t[s].book_id===this.$route.query.id){e=t[s],t.splice(s,1),this.ifJoinBookcase=!0;break}this.ifJoinBookcase=!1}this.ifJoinBookcase&&t.unshift(e),L["a"].set("Bookrack",t)}else this.ifJoinBookcase=!1;console.log("书架11",L["a"].get("Bookrack")),this.getBookReviews(this.$route.query.id,2)},joinBookcase:function(){var t={},e=[];if(t.book_id=this.$route.query.id,t.title=this.bookInfo.title,t.image=this.imgUrl,t.index=1,this.ifJoinBookcase){for(var s in e=L["a"].get("Bookrack"),e)e[s].book_id===this.$route.query.id&&e.splice(s,1);L["a"].set("Bookrack",e),console.log("撤出书架",L["a"].get("Bookrack")),this.ifJoinBookcase=!1}else{if(L["a"].get("Bookrack"))e=L["a"].get("Bookrack"),e.push(t),L["a"].set("Bookrack",e);else if(L["a"].get("bookIdMessage"))for(var o in L["a"].get("bookIdMessage")){if(L["a"].get("bookIdMessage")[o].book_id===this.$route.query.id){t.index=L["a"].get("bookIdMessage")[o].index;break}e.push(t),L["a"].set("Bookrack",e)}else e.push(t),L["a"].set("Bookrack",e);console.log("加入书架",L["a"].get("Bookrack")),this.ifJoinBookcase=!0}},latelyFollowerPoint:function(t){return t>=1e4&&(t=Math.round(t/1e4)+"万"),t},dateFtt:function(t){var e=t.replace(/T/g," ").replace(/\.[\/d]{3}Z/,"");e=e.replace(/-/g,"/");var s=Math.round(new Date(e).getTime()/1e3),o=Math.round((new Date).getTime()/1e3),i=o-s,a="";return this.bookInfo.isSerial?i<3600?a=Math.round(i/60)+"分钟前更新":i>=3600&&i<86400?a=Math.round(i/3600)+"小时前更新":i>=86400&&i<2629800?a=Math.round(i/86400)+"天前更新":i>=2629800&&i<31557600?a=Math.round(i/2629800)+"月前更新":i>=31557600&&(a=Math.round(i/31557600)+"年前更新"):a="完结",a},latelyFollower:function(t){return t>=1e4&&(t=Math.round(t/1e3)/10,t=t.toFixed(1)+"万"),t},introductionToClick:function(){this.isIntroductionClick?this.isIntroductionClick=!1:this.isIntroductionClick=!0},getBookReviews:function(t,e){var s=this;this.axios.get(H.comment.bookReviews(t,e)).then(function(e){s.reviewsData=e.data.reviews,s.getRelatedRecommendedBooks(t)}).catch(function(t){})},getRelatedRecommendedBooks:function(t){var e=this;this.axios.get(H.book.relatedRecommendedBooks(t)).then(function(t){for(var s=0;s<4;s++)e.bookColummList[s]=t.data.books[s];e.loading=!0}).catch(function(t){})}}},de=ue,he=(o("0f3b"),Object(d["a"])(de,Gt,Kt,!1,null,"8241f232",null)),fe=he.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",{staticClass:"page-comment-detail"},[s("Listheader",{attrs:{title:t.$route.query.book_name}}),s("div",{staticClass:"page-comment-detail-body"},[s("div",{staticClass:"commentList",attrs:{id:"scrollView"}},[s("div",{staticClass:"comment"},[s("div",{staticClass:"author"},[s("img",{staticClass:"avater",attrs:{src:t.STATIC_HOST+t.userInfo.reviews[0].author.avatar}}),s("div",{staticClass:"right"},[s("div",{staticClass:"nickname"},[t._v(t._s(t.userInfo.reviews[0].author.nickname))]),s("div",{staticClass:"updated"},[t._v(t._s(t.getTimeNum(t.userInfo.reviews[0].updated))+"前")])])]),s("p",{staticClass:"content"},[t._v(t._s(t.userInfo.reviews[0].content))])]),s("div",{staticClass:"replyNum"},[t._v("共"+t._s(t.userInfo.reviews[0].commentCount)+"条回复")]),s("ul",{staticClass:"reply"},[t._l(t.userComments,function(t,e){return s("li",{key:e,ref:"liView",refInFor:!0},[s("Comments",{attrs:{commentsInfo:t}})],1)}),s("div",{staticClass:"show-more"},[t._v(t._s(t.moreText))])],2)])])],1):s("Loading")},pe=[],me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inner"},[s("img",{staticClass:"avater",attrs:{src:t.STATIC_HOST+t.commentsInfo.author.avatar}}),s("div",{staticClass:"right"},[s("div",{staticClass:"author"},[s("p",{staticClass:"nickname"},[t._v(t._s(t.commentsInfo.author.nickname))]),s("p",{staticClass:"updated"},[t._v(t._s(t.getTimeNum(t.commentsInfo.created))+"前")])]),s("p",{staticClass:"content"},[t._v(t._s(t.commentsInfo.content))])])])},ke=[],ge={components:{},props:{commentsInfo:Object},data:function(){return{STATIC_HOST:H.STATIC_HOST}},mounted:function(){},methods:{getTimeNum:function(t){var e=t.replace(/T/g," ").replace(/\.[\/d]{3}Z/,"");e=e.replace(/-/g,"/");var s=Math.round(new Date(e).getTime()/1e3),o=Math.round((new Date).getTime()/1e3),i=o-s,a="";return i<3600?a=Math.round(i/60)+"分钟":i>=3600&&i<86400?a=Math.round(i/3600)+"小时":i>=86400&&i<2629800?a=Math.round(i/86400)+"天":i>=2629800&&i<31557600?a=Math.round(i/2629800)+"月":i>=31557600&&(a=Math.round(i/31557600)+"年"),a}}},be=ge,_e=(o("be1d"),Object(d["a"])(be,me,ke,!1,null,"6333addf",null)),Ce=_e.exports,we={components:{Listheader:pt,Loading:G,Comments:Ce},props:{},data:function(){return{userInfo:{},userComments:[],loading:!1,STATIC_HOST:H.STATIC_HOST,moreText:"正在加载...",isFun:!0,start_num:0,limit_num:10,user_id_ls:""}},mounted:function(){this.$store.state.isTabber=!1,this.getUserInfo(this.$route.query.book_id,1,this.$route.query.index)},methods:{getUserInfo:function(t,e,s){var o=this;this.axios.get(H.comment.bookReviews(t,e,s)).then(function(t){console.log("获取长评-成功",t),o.userInfo=t.data,o.getUserReview(o.userInfo.reviews[0]._id,o.start_num,o.limit_num)}).catch(function(t){console.log("获取长评-失败",t)})},getUserReview:function(t,e,s){var o=this;this.axios.get(H.comment.userReview(t,e,s)).then(function(t){for(var e in console.log("获取用户评论-成功",t),t.data.comments)o.userComments.push(t.data.comments[e]);t.data.comments.length<10?(o.start_num+=t.data.comments.length,o.moreText="没有更多评论"):(o.start_num+=10,o.moreText="正在加载..."),o.loading=!0,o.isFun=!0,o.getHtml()}).catch(function(t){console.log("获取用户评论-失败",t)})},getHtml:function(){var t=this;this.$nextTick(function(){t.checkDivScroolTop()})},checkDivScroolTop:function(){var t=this;t.$refs.liView[0].clientHeight;t.scrollDiv=document.getElementById("scrollView"),t.scrollDiv.addEventListener("scroll",function(){t.scrollDiv.clientHeight+t.scrollDiv.scrollTop>=t.scrollDiv.scrollHeight&&t.isFun&&(t.isFun=!1,t.getUserReview(t.userInfo.reviews[0]._id,t.start_num,t.limit_num))})},getTimeNum:function(t){var e=t.replace(/T/g," ").replace(/\.[\/d]{3}Z/,"");e=e.replace(/-/g,"/");var s=Math.round(new Date(e).getTime()/1e3),o=Math.round((new Date).getTime()/1e3),i=o-s,a="";return i<3600?a=Math.round(i/60)+"分钟":i>=3600&&i<86400?a=Math.round(i/3600)+"小时":i>=86400&&i<2629800?a=Math.round(i/86400)+"天":i>=2629800&&i<31557600?a=Math.round(i/2629800)+"月":i>=31557600&&(a=Math.round(i/31557600)+"年"),a}}},ye=we,xe=(o("9d7b"),Object(d["a"])(ye,ve,pe,!1,null,"7c8134a9",null)),Be=xe.exports,Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isOk?s("div",{ref:"viewBox",staticClass:"page-reader",style:{color:t.bookMessage.color,backgroundColor:t.bookMessage.backgroundColor},attrs:{id:"page-reader"},on:{click:function(e){t.isShow=!0}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"reader-content-details"},[t._l(t.textContent,function(e){return s("div",{key:e.chapter,ref:"readerChapter"+e.chapter,refInFor:!0,attrs:{id:"readerChapter"+e.chapter}},[s("h1",{style:{fontSize:t.bookMessage.titleFontSize+"px"}},[t._v(t._s(e.title))]),s("article",{staticClass:"read-content"},[s("div",{staticClass:"inner",style:{fontSize:t.bookMessage.textFontSize+"px"},domProps:{innerHTML:t._s(e.content)}})])])}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isBookLoadingShow,expression:"isBookLoadingShow"}],staticClass:"scroll-loading"},[t._m(0)])],2),s("div",{staticClass:"page-read-option",class:{showPanel:t.isShow},on:{click:function(e){return e.stopPropagation(),t.panelClick(e)}}},[s("div",{ref:"panelTop",staticClass:"top-controll-bar"},[s("span",{staticClass:"back",on:{click:function(e){return t.back()}}},[s("i",{staticClass:"icon"}),s("i",[t._v("返回")])]),s("h2",[t._v(t._s(t.bookTitle))]),s("span",{staticClass:"menu"},[s("i",{staticClass:"icon"}),s("ul",{staticClass:"drop-down"},[s("li",[s("router-link",{attrs:{to:{path:"/"}}},[s("i",{staticClass:"menu-icon"}),s("span",[t._v("首页")])])],1),s("li",[s("router-link",{attrs:{to:{path:"/"}}},[s("i",{staticClass:"menu-icon"}),s("span",[t._v("书架")])])],1),s("li",[s("router-link",{attrs:{to:{path:"/book",query:{id:t.$route.query.book_id}}}},[s("i",{staticClass:"menu-icon"}),s("span",[t._v("详情")])])],1)])])]),s("div",{ref:"panelBottom",staticClass:"bottom-controll-panel"},[s("div",{staticClass:"toBookShelf",on:{click:function(e){return t.jionBookcase()}}},[t._v(t._s(t.isBookcase?"撤出书架":"加入书架"))]),s("div",{staticClass:"item-font"},[s("span",{staticClass:"font-size-change btn",class:0===t.bookMessage.lineWidth?"disable":"",on:{click:function(e){return t.fontSizeMinus()}}},[t._v("\n          Aa-\n        ")]),s("span",{staticClass:"font-size-line btn"},[s("span",{staticClass:"content",style:{width:t.bookMessage.lineWidth+"%"}})]),s("span",{staticClass:"font-size-change btn",class:100===t.bookMessage.lineWidth?"disable":"",on:{click:function(e){return t.fontSizeAdd()}}},[t._v("\n          Aa+\n        ")])]),s("div",{staticClass:"item-btn"},t._l(t.readerModel,function(e,o){return s("span",{key:o,staticClass:"square btn",class:{active:e.class},on:{click:function(e){return t.isAcitve(o)}}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0),s("div",{staticClass:"item-footer"},[s("span",{staticClass:"chapter-btn-w btn",on:{click:function(e){return t.previousChapter()}}},[t._v("上一章")]),s("span",{staticClass:"directory btn",on:{click:function(e){return t.directoryShowClick()}}},[t._v("目录")]),s("span",{staticClass:"chapter-btn-w btn f-r",on:{click:function(e){return t.nextChapter()}}},[t._v("下一章")])])])]),s("div",{staticClass:"page-read-chapter-list",class:{"show-panel":t.directoryShow},on:{click:function(e){return e.stopPropagation(),t.directoryClick(e)}}},[s("div",{ref:"directory",staticClass:"content"},[s("div",{ref:"directory_title",staticClass:"top-bar"},[s("span",[t._v(t._s(t.bookTitle))]),s("span",[t._v("目录")])]),s("ul",{ref:"directory_list",staticClass:"directory-list",style:t.directoryStyle},t._l(t.bookChapters,function(e,o){return s("li",{key:o},[s("a",{on:{click:function(e){return t.readerDirectory(o+1)}}},[s("span",{staticClass:"title",class:{active:o+1==t.$route.query.index}},[t._v(t._s(o+1)+"-"+t._s(e.title))]),e.isVip?s("span",{staticClass:"vip"}):t._e()])])}),0)])]),s("BookLoading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]})],1):s("div",{staticClass:"no-book"},[s("span",[t._v("此书失联，"),s("span",{staticClass:"back",on:{click:function(e){return t.back()}}},[t._v("点此返回")])])])},$e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader"},[s("div",{staticClass:"loader-inner"},[s("div"),s("div"),s("div")])])}],Me=o("bd86"),Se=(o("28a5"),o("b54a"),o("7514"),{components:{BookLoading:Ft},data:function(){return{isLoading:!1,isOk:!0,textContent:[],isLoadingChapter:!1,bookTitle:"书名",isShow:!1,directoryShow:!1,bookChapters:[{title:"第一章"}],bookIdMessage:[],readerRecord:{},isBookcase:!1,storageSourceIsBook:"",imgUrl:"",jiazai:!0,isFirst:!0,bookMessage:{lineWidth:0,titleFontSize:20,textFontSize:16,color:"#5c5d58",backgroundColor:"#eee6dd"},readerModel:[{class:!0,text:"默认",color:"#5c5d58",backgroundColor:"#eee6dd"},{class:!1,text:"夜间",color:"#666",backgroundColor:"#0c0c0c"},{class:!1,text:"护眼",color:"rgba(12,46,16,.8)",backgroundColor:"#b8cd8d"}],isBookLoadingShow:!1,directoryStyle:{height:"0px"},directoryListHeight:0}},mounted:function(){var t=this;this.$store.state.isTabber=!1,this.readerRecord.book_id=this.$route.query.book_id,this.readerRecord.index=this.$route.query.index,this.getBookcase(),window.find&&(HTMLElement.prototype.contains=function(t){return this.compareDocumentPosition(t)-19>0}),this.$nextTick(function(){t.directoryListHeight=t.$refs.directory_list.childNodes[0].getBoundingClientRect().height,t.directoryStyle.height=document.body.clientHeight-t.$refs.directory_title.offsetHeight+"px"})},beforeRouteEnter:function(t,e,s){s(function(t){e.name&&(t.storageSourceIsBook=e.name),t.getStorage()})},methods:{getBookcase:function(){if(L["a"].get("Bookrack")){var t=L["a"].get("Bookrack"),e={};for(var s in t){if(t[s].book_id===this.$route.query.book_id){e=t[s],t.splice(s,1),this.isBookcase=!0;break}this.isBookcase=!1}this.isBookcase&&t.unshift(e),L["a"].set("Bookrack",t)}},getStorage:function(){var t=!1;if(L["a"].get("bookIdMessage"))for(var e in this.bookIdMessage=L["a"].get("bookIdMessage"),this.bookIdMessage)this.bookIdMessage[e].book_id===this.$route.query.book_id?(t=!0,"book"===this.storageSourceIsBook?this.chapterLoading(this.bookIdMessage[e].index):(this.bookIdMessage[e].index=this.$route.query.index,L["a"].set("bookIdMessage",this.bookIdMessage))):t=!1;else t=!1;t||(this.bookIdMessage.push(this.readerRecord),L["a"].set("bookIdMessage",this.bookIdMessage)),L["a"].get("bookMessage")&&(this.bookMessage=L["a"].get("bookMessage")),L["a"].get("readerModel")&&(this.readerModel=L["a"].get("readerModel")),this.getBookInfo(this.$route.query.book_id)},getBookInfo:function(t){var e=this;this.axios.get(H.book.bookInfo(t)).then(function(s){console.log("获取书籍详情-成功",s),e.imgUrl=H.STATIC_HOST+s.data.cover,e.bookTitle=s.data.title,e.getBookSources(t)}).catch(function(t){return e.isOk=!1,e.isLoading=!0,!1})},getBookSources:function(t,e){var s=this;this.axios.get(H.book.bookSources(t)).then(function(t){console.log("获取书源-成功",t),s.getBookChapters(t.data[0]._id,e)}).catch(function(t){return console.log("获取书源-失败",t),s.isOk=!1,s.isLoading=!0,!1})},getBookChapters:function(t,e){var s=this;this.axios.get(H.book.bookChapters(t)).then(function(t){console.log("获取书籍章节-成功",t),s.isOk=!0,s.bookChapters=t.data.chapters;var o=t.data.chapters[s.$route.query.index-1];s.textTitle=o.title,s.chapterContent(o.link,o.title,s.$route.query.index,e)}).catch(function(t){return s.isOk=!1,s.isLoading=!0,!1})},chapterContent:function(t,e,s,o){var i=this;this.axios.get(H.book.chapterContent(t)).then(function(t){console.log("获取章节内容-成功",t),t.data.chapter.isVip&&(t.data.chapter.cpContent="付费章节，请移至正版网站阅读");var a=t.data.chapter.cpContent.split("\r\n");for(var n in a=t.data.chapter.cpContent.split("\n"),a)a[n]=a[n].trim(),a[n]="<p>".concat(a[n],"</p>");var r={};a=a.join(""),r.title=e,r.content=a,r.chapter=s,o&&(i.textContent=[]),i.$refs.directory_list.scrollTop=i.directoryListHeight*(i.$route.query.index-1),i.textContent.push(r),i.isLoadingChapter=!0,i.isLoading=!0,i.isBookLoadingShow=!1,console.log("directory scrollTop",i.$refs),i.jiazai&&(i.jiazai=!1,i.$nextTick(function(){i.handleScroll()}))}).catch(function(t){return console.log("获取章节内容-失败",t),i.isOk=!1,i.isLoading=!0,!1})},readerDirectory:function(t){this.directoryShow=!1,this.isLoading=!1,this.chapterLoading(t),this.getBookSources(this.$route.query.book_id,!0)},handleScroll:function(){var t=this,e=document.getElementById("page-reader");e.addEventListener("scroll",function(){var s=document.body.clientHeight;if(e.scrollHeight-s/5<e.clientHeight+e.scrollTop&&e.clientHeight+e.scrollTop<e.scrollHeight&&(t.isBookLoadingShow=!0,t.isLoadingChapter)){for(var o in t.isLoadingChapter=!1,t.chapterLoading(),t.getBookSources(t.$route.query.book_id),t.bookIdMessage)t.bookIdMessage[o].book_id===t.$route.query.book_id&&(t.bookIdMessage[o].index=t.$route.query.index);console.log("_this.bookIdMessage",t.bookIdMessage),L["a"].set("bookIdMessage",t.bookIdMessage)}},!1)},chapterLoading:function(t){var e=this.$router.history.current.query,s=JSON.parse(JSON.stringify(e));s.index=t||Number(s.index)+1,this.$router.replace(Object(Me["a"])({query:e},"query",s));var o=L["a"].get("Bookrack");if(o)for(var i=0;i<o.length;i++)o[i].book_id===this.$route.query.book_id&&(o[i].index=s.index);L["a"].set("Bookrack",o)},panelClick:function(t){var e=window.event||t,s=this.$refs.panelTop,o=this.$refs.panelBottom;s.contains(e.target)||o.contains(e.target)||(this.isShow=!1)},isAcitve:function(t){for(var e in this.readerModel)this.readerModel[e].class=!1,this.readerModel[t].class=!0;this.bookMessage.color=this.readerModel[t].color,this.bookMessage.backgroundColor=this.readerModel[t].backgroundColor,L["a"].set("readerModel",this.readerModel),L["a"].set("bookMessage",this.bookMessage)},fontSizeMinus:function(){0!==this.bookMessage.lineWidth&&(this.bookMessage.lineWidth-=25,this.bookMessage.titleFontSize-=2,this.bookMessage.textFontSize-=2),L["a"].set("bookMessage",this.bookMessage)},fontSizeAdd:function(){100!==this.bookMessage.lineWidth&&(this.bookMessage.lineWidth+=25,this.bookMessage.titleFontSize+=2,this.bookMessage.textFontSize+=2),L["a"].set("bookMessage",this.bookMessage)},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)},jionBookcase:function(){var t=L["a"].get("Bookrack"),e={};if(e.book_id=this.$route.query.book_id,e.index=this.$route.query.index,e.image=this.imgUrl,e.title=this.bookTitle,this.isBookcase){for(var s=0;s<t.length;s++)if(t[s].book_id===this.$route.query.book_id){t.splice(s,1);break}this.isBookcase=!1}else t.unshift(e),this.isBookcase=!0;L["a"].set("Bookrack",t)},directoryShowClick:function(){this.isShow=!1,this.directoryShow=!0},directoryClick:function(){var t=window.event||e,s=this.$refs.directory;s.contains(t.target)||(this.directoryShow=!1)},previousChapter:function(){this.isLoading=!1,this.chapterLoading(Number(this.$route.query.index)-1),this.getBookSources(this.$route.query.book_id,!0)},nextChapter:function(){this.isLoading=!1,this.chapterLoading(Number(this.$route.query.index)+1),this.getBookSources(this.$route.query.book_id,!0)}}}),Ie=Se,He=(o("fd6c"),Object(d["a"])(Ie,Te,$e,!1,null,null,null)),Le=He.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-directory"},[s("ListHeader",{attrs:{title:t.title}}),s("div",[s("div",{staticClass:"page-directory-body"},[s("div",{staticClass:"chapter-header"},[s("div",{staticClass:"chapter-header-left"},[s("h3",{staticClass:"chapter-title"},[t._v("目录")]),s("span",{staticClass:"chapter-title-desc"},[t._v("共"+t._s(t.chapterNum)+"章")])]),s("span",{staticClass:"chapterBtn",on:{click:function(e){return t.arrayReverse()}}},[t._v(t._s(t.isReverse?"正序":"倒序"))])]),s("div",{staticClass:"chapter-body"},[s("ul",{staticClass:"chapter-list"},t._l(t.chapters,function(e,o){return s("li",{key:o},[s("router-link",{attrs:{to:{path:"/reader",query:{book_id:t.$route.query.book_id,index:o+1}}}},[t._v(t._s(o+1)+" "+t._s(e.title))])],1)}),0)])]),s("BookLoading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]})],1)],1)},qe=[],De={components:{ListHeader:pt,BookLoading:Ft},data:function(){return{isLoading:!1,chapterNum:0,title:"目录",chapters:[],isReverse:!1}},mounted:function(){this.$store.state.isTabber=!1,this.getBookSources(this.$route.query.book_id)},methods:{getBookSources:function(t){var e=this;this.axios.get(H.book.bookSources(t)).then(function(t){e.chapterNum=t.data[1].chaptersCount,e.getBookChapters(t.data[1]._id)}).catch(function(t){console.log("获取书源-失败",t)})},getBookChapters:function(t){var e=this;this.axios.get(H.book.bookChapters(t)).then(function(t){t.data.chapters;e.chapters=t.data.chapters,e.isLoading=!0}).catch(function(t){console.log("获取书籍章节-失败",t)})},arrayReverse:function(){this.isReverse?this.isReverse=!1:this.isReverse=!0,this.chapters.reverse()}}},Ee=De,Oe=(o("f5ef"),Object(d["a"])(Ee,je,qe,!1,null,"f151b322",null)),Ne=Oe.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page-search"},[s("listheader",{attrs:{title:t.title}}),s("div",{staticClass:"search-body"},[s("div",{staticClass:"search-list",attrs:{id:"scrollViewList"}},t._l(t.searchBooks,function(t,e){return s("bookview",{key:e,ref:"bookList",refInFor:!0,attrs:{bookDetails:t,bookClass:t.cat,isBookClass:!0}})}),1)])],1)])},Ae=[],Re={data:function(){return{searchBooks:[],booksNum:30,moreText:"正在加载中...",title:"跟“".concat(this.$route.query.val,"”有关的书籍"),start:0,limit:20,isAxios:!1}},components:{Bookview:jt,Listheader:pt},mounted:function(){this.getBookSearch(this.start,this.limit,this.$route.query.val)},methods:{getBookSearch:function(t,e,s){var o=this;this.searchBooks.length<this.booksNum?this.axios.get(H.book.bookSearch(t,e,s)).then(function(t){for(var s in t.data.books.length<e&&(o.moreText="暂无更多书籍"),o.booksNum=t.data.total,t.data.books)o.searchBooks.push(t.data.books[s]);o.isAxios=!0,o.getDocument()}).catch(function(t){console.log("搜索书籍失败",t)}):this.moreText="暂无更多书籍"},getDocument:function(){var t=this;this.$nextTick(function(){t.scrollView()})},scrollView:function(){var t=this,e=document.getElementById("scrollViewList"),s=t.$refs.booklist[0].$el.clientHeight;e.addEventListener("scroll",function(){e.clientHeight+e.scrollTop+s>=e.scrollHeight&&t.isAxios&&(t.isAxios=!1,t.start+=20,t.getBookSearch(t.start,t.limit,t.$route.query.val))})}}},ze=Re,We=(o("54e9"),Object(d["a"])(ze,Fe,Ae,!1,null,"16e06ef2",null)),Pe=We.exports;i["default"].use(_["a"]);var Je=new _["a"]({mode:"hash",base:"",routes:[{path:"/",name:"Home",component:$},{path:"/Bookrack",name:"Bookrack",component:E},{path:"/Bookcity",name:"Bookcity",component:z,children:[{path:"/Bookcity/Choice",component:Zt}]},{path:"/Bookfree",name:"Bookfree",component:tt},{path:"/bookDirectory",name:"bookDirectory",component:Ne},{path:"/Bookexclusive",name:"Bookexclusive",component:nt},{path:"/book",name:"book",component:fe},{path:"/commentDetail",name:"commentDetail",component:Be},{path:"/Booklist",name:"Booklist",component:Wt},{path:"/reader",name:"reader",component:Le},{path:"/Search",name:"Search",component:Pe},{path:"/home",name:"home",component:$},{path:"/Choice",name:"Choice",component:Zt},{path:"/about",name:"about",component:function(){return o.e("chunk-2d22d746").then(o.bind(null,"f820"))}}]}),Ue=o("2f62");i["default"].use(Ue["a"]);var Ve=new Ue["a"].Store({state:{bookListViewH:0,headerData:{major:{id:"hot",type:"热门"},minor:{id:"全部",type:"全部"}},storage:{}},mutations:{},actions:{}}),Ye=o("bc3a"),Ze=o.n(Ye),Ge=o("a7fe"),Ke=o.n(Ge),Qe=(o("dfa4"),o("a342"),o("6672"),o("157a"),o("17ac"),o("b970")),Xe=o("76a0"),ts=o.n(Xe),es=o("e069"),ss=o.n(es),os=(o("dcad"),o("caf9"));i["default"].use(Ke.a,Ze.a),i["default"].use(Qe["a"]),i["default"].use(ts.a),i["default"].use(ss.a),i["default"].use(os["default"]),i["default"].component(Xe["Tabbar"].name,Xe["Tabbar"]),i["default"].component(Xe["TabItem"].name,Xe["TabItem"]),i["default"].config.productionTip=!1,new i["default"]({router:Je,store:Ve,render:function(t){return t(b)}}).$mount("#app")},"5b57":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var o=s("5e27"),i=s.n(o);i.a},"5e04":function(t,e,s){},"5e27":function(t,e,s){},6672:function(t,e,s){},6901:function(t,e,s){},"6c42":function(t,e,s){t.exports=s.p+"assets/img/203f.jpg"},"733e":function(t,e,s){},7453:function(t,e,s){},7594:function(t,e,s){},8407:function(t,e,s){t.exports=s.p+"assets/img/man3.jpeg"},9175:function(t,e,s){t.exports=s.p+"assets/img/nv1.jpg"},"94dc":function(t,e,s){t.exports=s.p+"assets/img/810.jpg"},"97b9":function(t,e,s){t.exports=s.p+"assets/img/160f.jpg"},"9d7b":function(t,e,s){"use strict";var o=s("f54d"),i=s.n(o);i.a},"9f9b":function(t,e,s){"use strict";var o=s("733e"),i=s.n(o);i.a},a342:function(t,e,s){},a9d9:function(t,e,s){t.exports=s.p+"assets/img/421.jpg"},b2f2:function(t,e,s){"use strict";var o=s("7453"),i=s.n(o);i.a},b4b4:function(t,e,s){"use strict";var o=s("0ffb"),i=s.n(o);i.a},b72a:function(t,e,s){},bc87:function(t,e,s){"use strict";var o=s("f960"),i=s.n(o);i.a},bcc9:function(t,e,s){},be1d:function(t,e,s){"use strict";var o=s("5521"),i=s.n(o);i.a},c714:function(t,e,s){},cc5a:function(t,e,s){},ccd1:function(t,e,s){t.exports=s.p+"assets/img/160e.jpg"},e2e4:function(t,e,s){"use strict";var o=s("1e7f"),i=s.n(o);i.a},e5bd:function(t,e,s){},e6e4:function(t,e,s){},e8ba:function(t,e,s){"use strict";var o=s("e5bd"),i=s.n(o);i.a},f043:function(t,e,s){},f509:function(t,e,s){t.exports=s.p+"assets/img/0ac.jpg"},f54d:function(t,e,s){},f5ef:function(t,e,s){"use strict";var o=s("fa62"),i=s.n(o);i.a},f670:function(t,e,s){t.exports=s.p+"assets/img/6_4.jpg"},f960:function(t,e,s){},fa62:function(t,e,s){},fd6c:function(t,e,s){"use strict";var o=s("cc5a"),i=s.n(o);i.a},ff86:function(t,e,s){t.exports=s.p+"assets/img/6_1.jpg"}});